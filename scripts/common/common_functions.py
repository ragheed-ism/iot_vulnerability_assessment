import pandas as pd
from pathlib import Path


def read_file(
    file_name: str, file_path: str = None, sheet_name: str = None, suffix: str = ".xlsx"
):
    locator = f"{file_path}/{file_name}" if file_path else file_name
    locator = Path(locator).with_suffix(suffix)

    if suffix in (".csv", "tsv"):
        df = pd.read_csv(locator)
    elif suffix in (".json"):
        df = pd.read_json(locator)
    elif suffix in (".xml"):
        df = pd.read_xml(locator)
    elif suffix in (".xls", ".xlsx"):
        if sheet_name:
            df = pd.read_excel(locator, sheet_name=sheet_name)
        else:
            df = pd.read_excel(locator)
    else:
        raise ValueError(f"Unsupported filetype: {suffix}")

    return df
